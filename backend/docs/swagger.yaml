openapi: 3.0.3
info:
  title: Cat Stories API
  description: Cat Stories API Documentation
  version: 1.0.0
  contact:
    name: Achmad Raihan Fahrezi Effendy
    email: raihanachmad8@gmail.com
externalDocs:
  description: Find out more about Swagger
  url: 'https://swagger.io'
servers:
  - url: 'http://localhost:3000/api/v1'
    description: Development server
paths:
  /docs:
    get:
      tags:
        -  API Documentation
      summary: Get API Documentation

  /users/auth/login:
    post:
      tags:
        - Authentication
      summary: Login
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Login'
            example:
              username: raihan
              password: raihan
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 200
                message: Login success
                data:
                  - user:
                    username: raihan
                    token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJyYWloYW4iLCJpYXQiOjE2MjQ0NjY0NzMsImV4cCI6MTY
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 400
                error: Username or password is wrong
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 404
                error: User not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
  /users/auth/current:
    get:
      tags:
        -  Authentication
      summary: Get current user
      security:
        - bearerAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 200
                message: Get current user success
                data:
                  - user:
                      username: raihan
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 404
                error: User not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
  /users/auth/logout:
    post:
      tags:
        -  Authentication
      summary: Logout
      security:
        - bearerAuth: []
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 200
                message: Logout success
                data: 'OK'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
  /cat-stories/jenis:
    get:
      tags:
        - Jenis
      summary: Get all jenis
      security:
        -  bearerAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 200
                message: Get all jenis success
                data:
                  - ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    Nama_Jenis: Russian Blue
                  - ID_Jenis: 35392ceb-03b7-4fea-ba98-1c6be95dbaa6
                    Nama_Jenis: Abyssinian
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
  /cat-stories/jenis/{id}:
    get:
      tags:
        - Jenis
      summary: Get jenis by id
      security:
        -  bearerAuth: []
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
          description: Jenis id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 200
                message: Get jenis success
                data:
                  - ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    Nama_Jenis: Russian Blue
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 404
                error: Jenis not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
  /cat-stories/jenis/create:
    post:
      tags:
        - Jenis
      summary: Create new jenis
      security:
        -  bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                Nama_Jenis:
                  type: string
            example:
              Nama_Jenis: Russian Blue
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 201
                message: Create new jenis success
                data:
                  - ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    Nama_Jenis: Russian Blue
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 400
                error: Nama_Jenis is required
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
  /cat-stories/jenis/update:
    put:
      tags:
        -  Jenis
      summary: Update jenis
      security:
        - bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                ID_Jenis:
                  type: string
                Nama_Jenis:
                  type: string
            example:
              ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
              Nama_Jenis: Russian Blue
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 201
                message: Update jenis success
                data:
                  - ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    Nama_Jenis: Russian Blue
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 400
                error: Nama_Jenis is required
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 404
                error: Jenis not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
  /cat-stories/jenis/delete:
    delete:
      tags:
        -  Jenis
      summary: Delete jenis
      security:
        - bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                ID_Jenis:
                  type: string
            example:
              ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
      responses:
        '201':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 201
                message: Delete jenis success
                data: 'OK'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 400
                error: ID_Jenis is required
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '404':
          description: Jenis not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 404
                error: Jenis not found
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
  /cat-stories/kucing:
    get: 
      tags:
        - Kucing
      summary: Get all kucing
      security: 
        -  bearerAuth: []
      responses:
        '200': 
          description: OK
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 200
                message: Get all kucing success
                data:
                  - ID_Kucing: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    Nama_Kucing: Kucing
                    Foto: 
                      - url: https://res.cloudinary.com/dxqnb8xjb/image/upload/v1624466433/1aadf456-c268-4d74-905c-e8de04f7c9a8.jpg
                    Umur: 1
                    Jenis_Kelamin: Jantan
                    Tanggal_Masuk: 2021-06-23T00:00:00.000Z
                    Biaya: 100000
                    Status: 1
                    Keterangan: Kucing ini sangat lucu
        '400': 
          description: Bad Request
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 400
                error: ID_Jenis is required
        '401':
          description: Unauthorized
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '404':
          description: Kucing not found
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 404
                error: Kucing not found
        '500':
          description: Internal Server Error
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
  /cat-stories/kucing/{id}:
    get: 
      tags: 
        -  Kucing
      summary: Get kucing by id
      security: 
        -  bearerAuth: []
      parameters:
        - in: path
          name: id
          schema:
            type: string
          required: true
          description: Kucing id
      responses:
        '200': 
          description: OK
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 200
                message: Get kucing success
                data:
                  - ID_Kucing: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    Nama_Kucing: Kucing
                    Foto: 
                      - url: https://res.cloudinary.com/dxqnb8xjb/image/upload/v1624466433/1aadf456-c268-4d74-905c-e8de04f7c9a8.jpg
                    Umur: 1
                    Jenis_Kelamin: Jantan
                    Tanggal_Masuk: 2021-06-23T00:00:00.000Z
                    Biaya: 100000
                    Status: 1
                    Keterangan: Kucing ini sangat lucu
        '400': 
          description: Bad Request
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 400
                error: ID_Jenis is required
        '401':
          description: Unauthorized
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '404':
          description: Kucing not found
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 404
                error: Kucing not found 
        '500':
          description: Internal Server Error
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
                
  /cat-stories/kucing/create:
    post: 
      tags:
        - Kucing
      summary: Create new kucing
      security:
        -  bearerAuth: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                ID_Jenis:
                  type: string
                Nama_Kucing:
                  type: string
                Foto:
                  type: string
                  format: binary
                Umur:
                  type: integer
                  format: int64
                Jenis_Kelamin:
                  type: string
                Tanggal_Masuk:
                  type: string
                Biaya:
                  type: integer
                  format: int64
                Status:
                  type: integer
                  format: int64
                Keterangan:
                  type: string
            example:
              ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
              Nama_Kucing: Kucing
              Foto: 
                - url: https://res.cloudinary.com/dxqnb8xjb/image/upload/v1624466433/1aadf456-c268-4d74-905c-e8de04f7c9a8.jpg
              Umur: 1
              Jenis_Kelamin: Jantan
              Tanggal_Masuk: 2021-06-23T00:00:00.000Z
              Biaya: 100000
              Status: 1
              Keterangan: Kucing ini sangat lucu
      responses:
        '201': 
          description: OK
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 201
                message: Create new kucing success
                data:
                  - ID_Kucing: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    Nama_Kucing: Kucing
                    Foto: 
                      - url: https://res.cloudinary.com/dxqnb8xjb/image/upload/v1624466433/1aadf456-c268-4d74-905c-e8de04f7c9a8.jpg
                    Umur: 1
                    Jenis_Kelamin: Jantan
                    Tanggal_Masuk: 2021-06-23T00:00:00.000Z
                    Biaya: 100000
                    Status: 1
                    Keterangan: Kucing ini sangat lucu
        '400': 
          description: Bad Request
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 400
                error: ID_Jenis is required
        '401':
          description: Unauthorized
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '500':
          description: Internal Server Error
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
  /cat-stories/kucing/update:
    put:
      tags:
        -  Kucing
      summary: Update kucing
      security:
        - bearerAuth: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                ID_Kucing:
                  type: string
                ID_Jenis:
                  type: string
                Nama_Kucing:
                  type: string
                Foto:
                  type: string
                  format: binary
                Umur:
                  type: integer
                  format: int64
                Jenis_Kelamin:
                  type: string
                Tanggal_Masuk:
                  type: string
                Biaya:
                  type: integer
                  format: int64
                Status:
                  type: integer
                  format: int64
                Keterangan:
                  type: string
            example:
              ID_Kucing: 1aadf456-c268-4d74-905c-e8de04f7c9a8
              ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
              Nama_Kucing: Kucing
              Foto: 
                - url: https://res.cloudinary.com/dxqnb8xjb/image/upload/v1624466433/1aadf456-c268-4d74-905c-e8de04f7c9a8.jpg
              Umur: 1
              Jenis_Kelamin: Jantan
              Tanggal_Masuk: 2021-06-23T00:00:00.000Z
              Biaya: 100000
              Status: 1
              Keterangan: Kucing ini sangat lucu
      responses:
        '201': 
          description: OK
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 201
                message: Update kucing success
                data:
                  - ID_Kucing: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    ID_Jenis: 1aadf456-c268-4d74-905c-e8de04f7c9a8
                    Nama_Kucing: Kucing
                    Foto: 
                      - url: https://res.cloudinary.com/dxqnb8xjb/image/upload/v1624466433/1aadf456-c268-4d74-905c-e8de04f7c9a8.jpg
        '400': 
          description: Bad Request
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 400
                error: ID_Jenis is required
        '401':
          description: Unauthorized
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '404':
          description: Kucing not found
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 404
                error: Kucing not found
        '500':
          description: Internal Server Error
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error
  /cat-stories/kucing/delete:
    delete:
      tags:
        -  Kucing
      summary: Delete kucing
      security:
        - bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                ID_Kucing:
                  type: string
            example:
              ID_Kucing: 1aadf456-c268-4d74-905c-e8de04f7c9a8
      responses:
        '201': 
          description: OK
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseSuccess'
              example:
                status: 201
                message: Delete kucing success
                data: 'OK'
        '400': 
          description: Bad Request
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 400
                error: ID_Jenis is required
        '401':
          description: Unauthorized
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 401
                error: Unauthorized
        '404':
          description: Kucing not found
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 404
                error: Kucing not found
        '500':
          description: Internal Server Error
          content: 
            application/json:
              schema:
                $ref: '#/components/schemas/ResponseFailed'
              example:
                status: 500
                error: Internal Server Error

  



components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    Login:
      type: object
      properties:
        username:
          type: string
        password:
          type: string
    LoginDataResponse:
      type: object
      properties:
        user:
          type: object
        token:
          type: string
    LoginCurrentResponse:
      type: object
      properties:
        user:
          type: object
    ResponseSuccess:
      type: object
      properties:
        status:
          type: integer
          format: int32
        message:
          type: string
        data:
          oneOf:
            - type: array
            - type: string
    ResponseFailed:
      type: object
      properties:
        status:
          type: integer
          format: int32
        error:
          type: string
    JenisCat:
      type: object
      properties:
        ID_Jenis:
          type: integer
          format: int64
        Nama_Jenis:
          type: string
    Kucing:
      type: object
      properties:
        ID_Kucing:
          type: string
        ID_Jenis:
          type: string
        Nama_Kucing:
          type: string
        Foto:
          type: object
        Umur:
          type: integer
          format: int64
        Jenis_Kelamin:
          type: string
        Tanggal_Masuk:
          type: string
        Biaya:
          type: integer
          format: int64
        Status:
          type: integer
          format: int64
        Keterangan: 
          type: string
